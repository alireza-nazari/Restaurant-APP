<ion-view title="Give">
  <ion-content padding="false" class="has-header tab_content">

    <div class="button-bar">
      <!--Breakfast btn-->
      <div class="button bar_btn"
           style="border-radius: 0; border: 1px solid rgb(0, 0, 0); color: black;"
           ng-click="offer('B')"
           ng-disabled="give.meals.b.o_number
                            || (give.meals.b.o_today && give.meals.b.sec_left > 0)
                            || (give.meals.b.o_tomorrow && give.meals.b.sec_left <= 0)"
           ng-class="{
                            'button-balanced': take.meals.b.sec_left > 0 && !take.meals.b.o_number,
                            'button-stable': take.meals.b.o_number && take.meals.b.o_number != '*****',
                            'button-assertive': take.meals.b.o_number == '*****',
                            'button-energized': take.meals.b.sec_left <= 0 && !take.meals.b.o_number}"
      >
        <strong>Breakfast!</strong>
        <div ng-if="take.meals.b.sec_left > 0">
          <sup>for today</sup>
        </div>
        <div ng-if="take.meals.b.sec_left <= 0">
          <sup>for tomorrow</sup>
        </div>
        <div class="item-text-wrap" ng-if="take.meals.b.o_number">
          <p style="margin: 0;"><strong style="color: black">{{take.meals.b.o_number}}</strong></p>
        </div>
        <div ng-if="!take.meals.b.o_number">
          <sup>{{take.meals.b.sec_left | secondsToDateTime}}</sup>
        </div>
        <sup class="offers_count">{{take.meals.b.offers}}</sup>
        <md-progress-linear md-mode="determinate" value="{{rp.b}}"></md-progress-linear>
      </div>

      <!--Lunch btn-->
      <div class="button bar_btn"
           style="border-radius: 0; border: 1px solid rgb(0, 0, 0); color: black;"
           ng-click="question('L')"
           ng-disabled="take.meals.l.l_offer_room
                            || (take.meals.l.l_q_today && take.meals.l.l_sec_left > 0)
                            || (take.meals.l.l_q_tomorrow && take.meals.l.l_sec_left <= 0)"
           ng-class="{
                            'button-balanced': take.meals.l.l_sec_left > 0 && !take.meals.l.l_offer_room,
                            'button-stable': take.meals.l.l_offer_room && take.meals.l.l_offer_room != '*****',
                            'button-assertive': take.meals.l.l_offer_room == '*****',
                            'button-energized': take.meals.l.l_sec_left <= 0 && !take.meals.l.l_offer_room}"
      >
        <strong>Lunch!</strong>
        <div ng-if="take.meals.l.l_sec_left > 0">
          <sup>for today</sup>
        </div>
        <div ng-if="take.meals.l.l_sec_left <= 0">
          <sup>for tomorrow</sup>
        </div>
        <div class="item-text-wrap" ng-if="take.meals.l.l_offer_room">
          <p style="margin: 0;"><strong style="color: black">{{take.meals.l.l_offer_room}}</strong></p>
        </div>
        <div ng-if="!take.meals.l.l_offer_room">
          <sup>{{take.meals.l.l_sec_left | secondsToDateTime}}</sup>
        </div>
        <sup class="offers_count">{{take.meals.l.l_offers}}</sup>
        <md-progress-linear md-mode="determinate" value="{{rp.l}}"></md-progress-linear>
      </div>

      <!--Dinner btn-->
      <div class="button bar_btn"
           style="border-radius: 0; border: 1px solid rgb(0, 0, 0); color: black;"
           ng-click="question('D')"
           ng-disabled="take.meals.d.d_offer_room
                            || (take.meals.d.d_q_today && take.meals.d.d_sec_left > 0)
                            || (take.meals.d.d_q_tomorrow && take.meals.d.d_sec_left <= 0)"
           ng-class="{
                            'button-balanced': take.meals.d.d_sec_left > 0 && !take.meals.d.d_offer_room,
                            'button-stable': take.meals.d.d_offer_room && take.meals.d.d_offer_room != '*****',
                            'button-assertive': take.meals.d.d_offer_room == '*****',
                            'button-energized': take.meals.d.d_sec_left <= 0 && !take.meals.d.d_offer_room}"
      >
        <strong>Dinner!</strong>
        <div ng-if="take.meals.d.d_sec_left > 0">
          <sup>for today</sup>
        </div>
        <div ng-if="take.meals.d.d_sec_left <= 0">
          <sup>for tomorrow</sup>
        </div>
        <div class="item-text-wrap" ng-if="take.meals.d.d_offer_room">
          <p style="margin: 0;"><strong style="color: black">{{take.meals.d.d_offer_room}}</strong></p>
        </div>
        <div ng-if="!take.meals.d.d_offer_room">
          <sup>{{take.meals.d.d_sec_left | secondsToDateTime}}</sup>
        </div>
        <sup class="offers_count">{{take.meals.d.d_offers}}</sup>
        <md-progress-linear md-mode="determinate" value="{{rp.d}}"></md-progress-linear>
      </div>
    </div>


    <!--Meal Buttons-->
    <div class="row meal_buttons">
      <div class="col col-top" style="padding: 0;">

        <div class="button-bar">
          <div class="button bar_btn"
               style="border-radius: 0; border: 1px solid rgb(0, 0, 0);"
               ng-click="offer('B')"
               ng-disabled=""
               ng-class="{'button-balanced': false, 'button-stable': false, 'button-assertive': true }"
          >
            <strong>Breakfast</strong>
          </div>
          <div class="button bar_btn"
               style="border-radius: 0; border: 1px solid rgb(0, 0, 0);"
               ng-click="offer('B')"
               ng-disabled=""
               ng-class="{'button-balanced': false, 'button-stable': false, 'button-assertive': true }"
          >
            <strong>Lunch</strong>
          </div>
          <div class="button bar_btn"
               style="border-radius: 0; border: 1px solid rgb(0, 0, 0);"
               ng-click="offer('B')"
               ng-disabled=""
               ng-class="{'button-balanced': false, 'button-stable': false, 'button-assertive': true }"
          >
            <strong>Dinner</strong>
          </div>
        </div>

        <div class="row take_status">
          <div class="col">

          </div>
          <div class="col">

          </div>
          <div class="col">

          </div>
        </div>
      </div>
    </div>


    <div class="row gm_row">
      <div class="col gm_col">
        <ionic-multi-date-picker input-obj="datepickerObject">
          <button class="gm_btn < button button-block button-assertive  give_more_btn">
            Give more..
          </button>
        </ionic-multi-date-picker>
      </div>
      <div class="col gm_col">
        <button class="gm_btn < button button-block button-calm give_more_btn">
          Clear
        </button>
      </div>
      <div class="col gm_col">
        <button class="gm_btn < button button-block button-energized give_more_btn">
          Set
        </button>
      </div>

    </div>

    <div class="list">
      <div class="gm_item_divider">
        <div class="row">
          <div class="col">
            <div class="row">
              <div class="col">
                Dates ({{ selectedDates.length }})
              </div>
            </div>
          </div>
          <div class="col col-75">
            <div class="row">
              <div class="col">
                Breakfast
              </div>
              <div class="col">
                Lunch
              </div>
              <div class="col">
                Dinner
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="gm_item" ng-repeat="d in selectedDates">
        <div class="row">
          <div class="col gm_col">
            <div class="row">
              <div class="col gm_col">
                {{ d.getDate() }}/{{ d.getMonth() + 1 }}/{{ d.getFullYear() }}
              </div>
            </div>
          </div>
          <div class="col col-75 gm_col">
            <div class="row">
              <div class="col gm_col">
                <md-checkbox class="md-warn md-align-top-left" ng-model="give.b" flex></md-checkbox>
              </div>
              <div class="col gm_col">
                <md-checkbox class="md-warn md-align-top-left" ng-model="give.l" flex></md-checkbox>
              </div>
              <div class="col gm_col">
                <md-checkbox class="md-warn md-align-top-left" ng-model="give.d" flex></md-checkbox>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>


  </ion-content>
</ion-view>
